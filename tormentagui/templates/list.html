 {{ $results := .Results }} {{ $fields := .Fields }} {{ $entity := .EntityName }}

<div class="number-of-results">
    <span class="number">{{ .NoResults }}</span> results
</div>

<table class="entity-table">
    <thead>
        <tr>
            {{ range $fields }}
            <th>{{ . }}</th>
            {{end}}
        </tr>
    </thead>
    <tbody>
        {{ range $results }}
        <!-- spacer -->
        {{ $thisResult := mapFields . }}
        <!-- spacer -->
        {{ $id := index $thisResult "ID" }}
        <tr class="record" ic-get-from="/{{ $entity }}/{{ $id }}" ic-trigger-on="click" ic-target="#detail-view">
            {{ range $fields }}
            <td>{{ index $thisResult . | autoFormat }}</td>
            {{end}}
        </tr>
        {{ end }}
    </tbody>
</table>